<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Social Stories: New Story</title>

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <style>
        .postNav {
            margin: 20px 0;
        }

        .logo {
            display: inline-flex;
            align-items: center;
        }

        .logo-icon {
            display: inline-flex;
            margin: 5px;
        }

        .logo-text {
            display: block;
            margin: 0;
        }

        .header {
            margin: auto;
            padding: auto;
        }

        .card.horizontal {
            border-left: 20px solid;
            padding: 10px;
            align-items: center;
        }

        .author-card {
            margin: 0 auto;
            padding-left: 10px;
        }

        .post-box {
            margin-top: 45px;
            /* border: 1px solid #666;
            border-radius: 10px; */
        }

        /* #actionButton {
            position: absolute !important;
            display: inline-block;
            right: auto;
            bottom: auto;
        } */
    </style>

</head>

<body>


    <!-- New Story Nav -->
    <div class="row postNav">
        <div class="col s12 m6">
            <div class="logo">
                <i class="material-icons medium logo-icon">font_download</i>
                <span class="logo-text">
                    <h5 class="logo-text">Social Story</h5>
                    <p class="logo-text"> New Draft </p>
                </span>
            </div>
        </div>
        <div class="col s12 m6">
            <div class="right ">
                <a class="waves-effect waves-light btn-small">Save</a>
                <a class="waves-effect waves-light btn-small">Help</a>
                <a class="waves-effect waves-light btn-small">Settings</a>
            </div>
        </div>
    </div>

    <!-- Post Page Header -->
    <div class="row container">
        <div class="col s12 ">
            <div class= " header center">
            <form action="/post" method="post">
                <h2>Write a ...
                    <span class="txt-rotate" data-period="2000" data-rotate='[ "story.", "poem.", "novel.", "review.", "idea." ]'></span>
                </h2>
                <h5 class="flow-text">A single &lt;idea&gt; is all you need to start.</h5>
                <hr>
            </div>
        </div>
    </div>

    <!-- <div class="js-titleLabel u-paddingTop19 u-absolute u-top0 u-right0 u-transition--transform200Spring u-transition--fadeOut100" style="transform: translate3d(0px, 0px, 0px);">Title</div> -->

    <div class="container post-box">
        <!-- Post Title -->
        <div class="row valign-wrapper">
            <div class="col s12 m4">
                <div class="card horizontal">
                    <img src="https://via.placeholder.com/80" alt="" class="circle responsive-img">
                    <span class="">
                        <p id="cardUsername" class="author-card">Username</p>
                        <p class="author-card"> Author </p>
                    </span>
                </div>
            </div>
            <div class="col s12 m8">
                <div class="input-field ">
                    <textarea id="textarea1" class="materialize-textarea"></textarea>
                    <label for="textarea1">Title</label>
                </div>
                <div class="input-field ">
                    <textarea id="subtitle" class="materialize-textarea"></textarea>
                    <label for="subtitle">Subtitle</label>
                </div>
            </div>
        </div>
        <!-- Post Body -->
        <div class="row">
            <div class="input-field col s12">
                <textarea id="textarea2" class="materialize-textarea"></textarea>
                <label for="textarea2">Tell your story...</label>

            <div class="col s12">
                <div id="actionButton" class="fixed-action-btn ">
                        <div class="col s12">
                                <div id="actionButton" class="fixed-action-btn ">
             
                                    <button class="btn waves-effect waves-light" type="submit" name="post">Submit
                                        <i class="material-icons right">send</i>
                                    </button>
                                </div>
                            </div>
                    <a class="btn-floating btn-large red">
                        <i class="large material-icons">mode_edit</i>
                    </a>
                    <ul>
                        <li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
                        <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
                        <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
                    </ul>
                </div>
            </div>

        </div>

    </div>


    <script>

        // action button
        document.addEventListener('DOMContentLoaded', function () {
            var elems = document.querySelectorAll('.fixed-action-btn');
            var instances = M.FloatingActionButton.init(elems, {
                direction: 'top'
            });
        });

        // Type text 
        var TxtRotate = function (el, toRotate, period) {
            this.toRotate = toRotate;
            this.el = el;
            this.loopNum = 0;
            this.period = parseInt(period, 10) || 2000;
            this.txt = '';
            this.tick();
            this.isDeleting = false;
        };

        TxtRotate.prototype.tick = function () {
            var i = this.loopNum % this.toRotate.length;
            var fullTxt = this.toRotate[i];

            if (this.isDeleting) {
                this.txt = fullTxt.substring(0, this.txt.length - 1);
            } else {
                this.txt = fullTxt.substring(0, this.txt.length + 1);
            }

            this.el.innerHTML = '<span class="wrap">' + this.txt + '</span>';

            var that = this;
            var delta = 300 - Math.random() * 100;

            if (this.isDeleting) { delta /= 2; }

            if (!this.isDeleting && this.txt === fullTxt) {
                delta = this.period;
                this.isDeleting = true;
            } else if (this.isDeleting && this.txt === '') {
                this.isDeleting = false;
                this.loopNum++;
                delta = 500;
            }

            setTimeout(function () {
                that.tick();
            }, delta);
        };

        window.onload = function () {
            var elements = document.getElementsByClassName('txt-rotate');
            for (var i = 0; i < elements.length; i++) {
                var toRotate = elements[i].getAttribute('data-rotate');
                var period = elements[i].getAttribute('data-period');
                if (toRotate) {
                    new TxtRotate(elements[i], JSON.parse(toRotate), period);
                }
            }
            // Add CSS
            var css = document.createElement("style");
            css.type = "text/css";
            css.innerHTML = ".txt-rotate > .wrap { border-right: 0.08em solid #666 }";
            document.body.appendChild(css);
        };


    </script>
    <!--  Scripts-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/materialize.js"></script>
    <script src="js/init.js"></script>
    <script src="js/stories.js"></script>    
</body>

</html>